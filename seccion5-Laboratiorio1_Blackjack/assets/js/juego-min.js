const miModulo=(()=>{"use strict";let e=[],t=["C","D","H","S"],n=["A","J","K","Q"],l=document.getElementById("btnRequest"),a=document.getElementById("btnStop"),d=document.getElementById("btnNew"),s=document.querySelectorAll("main span"),r=document.querySelectorAll(".divCards"),o=[],$=(t=2)=>{m();for(let n=0;n<t;n++)o.push(0);e=[],e=i()},i=()=>{for(let l=2;l<=10;l++)for(let a of t)e.push(`${l}${a}`);for(let d of n)for(let s of t)e.push(`${d}${s}`);return _.shuffle(e)},g=()=>{if(0===e.length)throw"No hay m\xe1s cartas";return e.shift()},h=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?10:11:1*t},c=(e,t)=>{let n=document.createElement("img");n.classList.add("card-image"),n.setAttribute("src",`./assets/cartas/${t}.png`),r[e].append(n)},u=(e,t)=>{o[e]+=t},f=e=>{do{let t=g();if(c(r.length-1,t),u(o.length-1,h(t)),s[s.length-1].textContent=o[o.length-1],e>21)break}while(o[o.length-1]<e&&e<21);setTimeout(()=>{b()},100)},b=()=>{21===o[0]&&o[o.length-1]<21||o[0]<=21&&o[o.length-1]>21?alert("Felicidades, has ganado!!!"):o[0]<=21&&21===o[o.length-1]||o[0]<=21&&o[o.length-1]>o[0]&&o[o.length-1]<=21||o[0]>=21&&o[o.length-1]<=21?alert("Lo lamento, la computadora ha ganado."):alert("Hay un empate, nadie ha ganado...")},m=()=>{for(let e of(o=[],s[0].textContent=0,s[s.length-1].textContent=0,r))e.innerHTML="";l.disabled=!1,a.disabled=!1};return l.addEventListener("click",()=>{let e=g();u(0,h(e)),s[0].textContent=o[0],c(0,e),o[0]>21?(l.disabled=!0,a.disabled=!0,f(o[0])):21===o[0]&&(l.disabled=!0,a.disabled=!0,f(o[0]))}),a.addEventListener("click",()=>{l.disabled=!0,a.disabled=!0,f(o[0])}),d.addEventListener("click",()=>{$()}),{comenzarJuego:$}})();